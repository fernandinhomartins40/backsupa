# ===============================================
# Supabase BaaS Control API - Environment Configuration
# ===============================================

# Servidor
NODE_ENV=production
PORT=3001
HOST=0.0.0.0

# Banco de dados master
DATABASE_URL=postgresql://postgres:masterpassword@localhost:5432/supabase_master
DB_HOST=localhost
DB_PORT=5432
DB_NAME=supabase_master
DB_USER=postgres
DB_PASSWORD=masterpassword
DB_POOL_MIN=2
DB_POOL_MAX=10

# Redis (para cache e sessions)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Criptografia
BCRYPT_ROUNDS=12
ENCRYPTION_KEY=your-32-char-encryption-key-here

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX_REQUESTS=10

# Configurações do sistema
BASE_DOMAIN=yourdomain.com
INSTANCES_DIR=/opt/supabase-instances
NGINX_MANAGER_SCRIPT=/opt/supabase-instances/nginx-manager.sh
GENERATE_SCRIPT_PATH=/opt/supabase-instances/../generate.bash

# Docker
DOCKER_SOCKET_PATH=/var/run/docker.sock

# Logs
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_FILES=30d
LOG_MAX_SIZE=20m

# Email (para notificações)
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_NAME=Supabase BaaS
SMTP_FROM_EMAIL=noreply@yourdomain.com

# Webhooks
WEBHOOK_SECRET=your-webhook-secret-here

# Métricas e monitoramento
ENABLE_METRICS=true
METRICS_PORT=9090

# Backup automático
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# Configurações de limites
DEFAULT_STORAGE_LIMIT_GB=1
DEFAULT_BANDWIDTH_LIMIT_GB=5
DEFAULT_DB_CONNECTIONS_LIMIT=20

# Configurações de segurança
CORS_ORIGINS=*
TRUST_PROXY=false
SECURE_COOKIES=true

# Features flags
FEATURE_AUTO_SCALING=false
FEATURE_CUSTOM_DOMAINS=false
FEATURE_BACKUP_RESTORE=true
FEATURE_USAGE_ANALYTICS=true