# ==============================================
# Supabase Multi-Tenant Instance Configuration
# ==============================================

# Instance identification
INSTANCE_ID=${INSTANCE_ID}
PROJECT_NAME=${PROJECT_NAME}
SUBDOMAIN=${SUBDOMAIN}

# Network configuration
API_EXTERNAL_URL=${API_EXTERNAL_URL}
SITE_URL=${SITE_URL}
SUPABASE_PUBLIC_URL=${SUPABASE_PUBLIC_URL}
ADDITIONAL_REDIRECT_URLS=${SITE_URL}

# Ports configuration
KONG_HTTP_PORT=${KONG_HTTP_PORT}
KONG_HTTPS_PORT=${KONG_HTTPS_PORT}
ANALYTICS_PORT=${ANALYTICS_PORT}
POSTGRES_PORT=${POSTGRES_PORT}
POSTGRES_PORT_EXT=${POSTGRES_PORT_EXT}

# Database configuration
POSTGRES_HOST=db
POSTGRES_DB=${POSTGRES_DB}
POSTGRES_USER=postgres
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}

# JWT Configuration
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRY=${JWT_EXPIRY}
ANON_KEY=${ANON_KEY}
SERVICE_ROLE_KEY=${SERVICE_ROLE_KEY}
SUPABASE_ANON_KEY=${ANON_KEY}
SUPABASE_SERVICE_KEY=${SERVICE_ROLE_KEY}

# Dashboard credentials
DASHBOARD_USERNAME=${DASHBOARD_USERNAME}
DASHBOARD_PASSWORD=${DASHBOARD_PASSWORD}

# Studio configuration
STUDIO_DEFAULT_ORGANIZATION=${STUDIO_DEFAULT_ORGANIZATION}
STUDIO_DEFAULT_PROJECT=${STUDIO_DEFAULT_PROJECT}

# Auth configuration
DISABLE_SIGNUP=${DISABLE_SIGNUP}
ENABLE_EMAIL_SIGNUP=${ENABLE_EMAIL_SIGNUP}
ENABLE_EMAIL_AUTOCONFIRM=${ENABLE_EMAIL_AUTOCONFIRM}
ENABLE_ANONYMOUS_USERS=${ENABLE_ANONYMOUS_USERS}
ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=false

# Email configuration
SMTP_ADMIN_EMAIL=${SMTP_ADMIN_EMAIL}
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=${SMTP_PORT}
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}
SMTP_SENDER_NAME=${SMTP_SENDER_NAME}

# Email templates
MAILER_URLPATHS_INVITE=${SITE_URL}/auth/v1/verify
MAILER_URLPATHS_CONFIRMATION=${SITE_URL}/auth/v1/verify
MAILER_URLPATHS_RECOVERY=${SITE_URL}/auth/v1/verify
MAILER_URLPATHS_EMAIL_CHANGE=${SITE_URL}/auth/v1/verify

# PostgREST configuration
PGRST_DB_SCHEMAS=${PGRST_DB_SCHEMAS}

# Analytics & Logging
LOGFLARE_API_KEY=${LOGFLARE_API_KEY}
LOGFLARE_LOGGER_BACKEND_API_KEY=${LOGFLARE_LOGGER_BACKEND_API_KEY}

# Imgproxy configuration
IMGPROXY_ENABLE_WEBP_DETECTION=${IMGPROXY_ENABLE_WEBP_DETECTION}

# Functions configuration
FUNCTIONS_VERIFY_JWT=${FUNCTIONS_VERIFY_JWT}

# Storage configuration
VAULT_ENC_KEY=${VAULT_ENC_KEY}
SECRET_KEY_BASE=${SECRET_KEY_BASE}

# Pooler configuration
POOLER_TENANT_ID=${POOLER_TENANT_ID}
POOLER_DEFAULT_POOL_SIZE=${POOLER_DEFAULT_POOL_SIZE}
POOLER_MAX_CLIENT_CONN=${POOLER_MAX_CLIENT_CONN}
POOLER_PROXY_PORT_TRANSACTION=${POOLER_PROXY_PORT_TRANSACTION}

# Internal service ports
AUTH_PORT=${AUTH_PORT}
REST_PORT=${REST_PORT}
REALTIME_PORT=${REALTIME_PORT}
META_PORT=${META_PORT}
STUDIO_PORT=${STUDIO_PORT}
STORAGE_PORT=${STORAGE_PORT}
IMGPROXY_PORT=${IMGPROXY_PORT}
FUNCTIONS_PORT=${FUNCTIONS_PORT}

# Docker configuration
DOCKER_SOCKET_LOCATION=${DOCKER_SOCKET_LOCATION}

# Volume paths
POSTGRES_INITDB=${INSTANCE_ID}_initdb
POSTGRES_DATA=${INSTANCE_ID}_db_data
STORAGE_DATA=${INSTANCE_ID}_storage_data